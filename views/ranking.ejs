<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src= "https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="css/ranking.css" rel="stylesheet" type = "text/css">
    <title>Ranking</title>


</head>
<body onload="init()">
    <ul class="topnav">
        <li> <a href="/">Home</a> </li>
        <li> <a href= "workouts.html"> Workouts </a> </li>
        <li> <a href="nutrition.html">Nutrition</a> </li>
        <li> <a href="gyms.html">Find Gyms</a> </li>
        <li class= "rankinglist">
            <form action="/ranking" method= "post">
                <button type = "submit" id = "signout_button" style= "background-color: transparent; margin-bottom:5px;">
                <span>
                <a class="active"> Leaderboards </a> </span></button></form></li>
        <li class= "trainerlist"> 
                <form action="/trainers" method="post">
                    <button type="submit" id="signout_button" style="
                      background-color: transparent;
                      margin-bottom: 5px;"><span>
                    <a>Talk to a Trainer</a></span></button>
        </form></li>
        <li> <a href="/customerService">Public Chatroom</a> </li>
        <li class= "buddy"> 
                <form action="/buddy" method="post">
                    <button type="submit" id="signout_button" style="
                      background-color: transparent;
                      margin-bottom: 5px;"><span>
                    <a>Find a Fitness Buddy</a></span></button>
        </form></li>
        <li class= "right"> 
            <form action="/signout" method="post">
                <button type="submit" id="signout_button" style="
                  background-color: transparent;
                  margin-bottom: 5px;"><span>
                <a>Sign Out</a></span></button>
            </form></li>   
    </ul>

    
    <h1>Leaderboards</h1>

    <div id= "DataTable">
        <table id="leaderboards">
            <thead>
            <tr>
                <th style= "width:20%;">Rank</th>
                <th>Name</th>
                <th>Gender</th>
                <th>EXP Points</th>
            </tr>
            </thead>
            <tbody id= 'ranking'>
                <% for(var i=0;i < users.length;i++){ %>
                <tr>
                    <td class='rank'>#<%=i+1%></td>
                    <td class='name'><%=users[i].name%></td>
                    <td class='left' id=<%=users[i].name%>><%=users[i].gender%></td>
                    <td class='exp'><%=users[i].exp%></td>
                </tr>
                <%}%>
            </tbody>
        </table>   

        <form action="/femalerank" method= "post">
                <button type = "submit" id = "signout_button" style= "background-color: transparent; margin:1%; float:right;">
                <a class= "female"> Female Leaderboard </a></button></form>
         <form action="/malerank" method= "post">
                <button type = "submit" id = "signout_button" style= "background-color: transparent; margin:1%; float:right;">
                <a class= "male"> Male Leaderboard </a> </span></button></form>
        <h5 style= "float: right; margin: 2%; margin-right:0%; font-weight:bold;"> View by: </h5> 
    </div>

    

    <footer>
        <p>Group Pineapple | copyright 2019</p>
    </footer>

    <script>

        function init(){
            changeclr();
        }

        function changeclr(){
            var length = document.getElementById("leaderboards").rows.length;
            for (var i = 1; i < length ; i++){
                var gender= document.getElementById("leaderboards").rows[i].cells[2];
                console.log(gender.innerHTML);
                if (gender.innerHTML == "female"){
                    gender.style.color= "#e84aa7";
                    gender.innerHTML = "Female";
                }
                else if (gender.innerHTML == "male"){
                    gender.style.color= "#59a6ea";
                    gender.innerHTML = "Male";
                }
            }
        }

    </script>

</body>
</html>